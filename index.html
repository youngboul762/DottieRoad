<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Faction Showcase</title>
<style>
  :root{
    --bg:#0b0d10;
    --panel:#0f1114;
    --accent:#d23b3b;
    --muted:#9aa3ad;
    --glass: rgba(255,255,255,0.03);
    --card:#121417;
  }

  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{
    background: linear-gradient(180deg,#050607 0%, #0d0f12 60%);
    color:#e6eef6;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow:hidden;
  }

  /* Splash / Enter overlay */
  #splash{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background:linear-gradient(180deg, rgba(0,0,0,0.65), rgba(0,0,0,0.7));
    z-index:50;backdrop-filter: blur(6px);
    flex-direction:column;gap:18px;
  }
  #splash h1{font-size:28px;letter-spacing:2px;margin:0;color:var(--accent);}
  #splash button{
    background:transparent;border:2px solid var(--accent);color:var(--accent);
    padding:10px 20px;border-radius:10px;font-weight:600;cursor:pointer;
    transition: transform .12s ease, background .12s;
  }
  #splash button:hover{transform:translateY(-3px);background: rgba(210,59,59,0.05);}

  /* Layout */
  .app{
    display:grid;grid-template-columns: 260px 1fr;gap:22px;height:100vh;padding:28px;
    box-sizing:border-box;
  }

  /* Sidebar */
  .sidebar{
    background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
    border-radius:12px;padding:18px;box-shadow:0 6px 30px rgba(0,0,0,0.6);
    display:flex;flex-direction:column;gap:12px;height:calc(100vh - 56px);overflow:auto;
  }
  .brand{display:flex;align-items:center;gap:12px;}
  .logo{
    width:48px;height:48px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#9e2b2b);
    display:flex;align-items:center;justify-content:center;font-weight:800;color:white;
  }
  .brand h2{margin:0;font-size:18px}
  nav{margin-top:8px;display:flex;flex-direction:column;gap:6px;}
  .nav-btn{
    padding:10px;border-radius:8px;border:none;background:transparent;color:var(--muted);
    text-align:left;font-weight:600;cursor:pointer;transition:all .12s ease;
  }
  .nav-btn.active{background:linear-gradient(90deg, rgba(210,59,59,0.14), rgba(210,59,59,0.06));color:var(--accent);box-shadow:inset 0 0 0 1px rgba(210,59,59,0.03);}

  .meta{margin-top:auto;padding-top:8px;border-top:1px solid rgba(255,255,255,0.02);font-size:13px;color:var(--muted);}

  /* Main content */
  .main{
    height:calc(100vh - 56px);overflow:auto;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    box-shadow: 0 6px 30px rgba(0,0,0,0.6);position:relative;
  }
  header.top{
    display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px;
  }
  header.top h3{margin:0;font-size:18px;letter-spacing:1px;color:var(--accent);}
  .audio-controls{display:flex;gap:8px;align-items:center;}

  .btn {
    background:transparent;border:1px solid rgba(255,255,255,0.05);padding:8px 10px;border-radius:8px;color:var(--muted);cursor:pointer;font-weight:600;
  }
  .btn.primary{background:var(--accent);color:white;border:none;box-shadow:0 6px 18px rgba(210,59,59,0.12);}

  /* Pages */
  .page{display:none;}
  .page.active{display:block;}

  /* Faction panel */
  .faction{
    display:grid;grid-template-columns: 1fr 340px;gap:18px;
  }
  .card{
    background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.6);
  }
  .faction .hero{
    height:220px;border-radius:10px;background-image: url('https://images.unsplash.com/photo-1503264116251-35a269479413?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=');background-size:cover;background-position:center;margin-bottom:12px;position:relative;overflow:hidden;
  }
  .faction .hero .overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.6));display:flex;align-items:flex-end;padding:14px;color:white;font-weight:700;font-size:20px;}

  /* Members */
  .members-grid{display:grid;grid-template-columns: repeat(auto-fill,minmax(200px,1fr));gap:12px;margin-top:12px;}
  .member{
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    border-radius:10px;padding:12px;display:flex;gap:10px;align-items:center;
  }
  .member img{width:56px;height:56px;border-radius:8px;object-fit:cover;flex-shrink:0;}
  .member .meta{display:flex;flex-direction:column;}
  .member .meta .name{font-weight:700;color:#f5f9ff}
  .member .meta .role{font-size:13px;color:var(--muted)}

  /* Gallery */
  .gallery-grid{display:grid;grid-template-columns: repeat(auto-fill,minmax(180px,1fr));gap:10px;}
  .gallery-grid img{width:100%;height:140px;object-fit:cover;border-radius:8px;}

  /* Responsive */
  @media (max-width:900px){
    .app{grid-template-columns: 1fr; padding:12px;}
    .sidebar{height:auto;order:2;}
    .main{order:1;height:auto;}
    .faction{grid-template-columns:1fr;}
  }

  /* small helper */
  .muted{color:var(--muted);font-size:13px}
</style>
</head>
<body>

<!-- Audio element -->
<audio id="bg-audio" loop preload="auto">
  <!-- Replace the source with your music file path -->
  <source src="theme.mp3" type="audio/mpeg" />
  Your browser does not support the audio element.
</audio>

<!-- Splash / Entry - required for autoplay gestures -->
<div id="splash">
  <h1>Welcome to Killadelphia Faction</h1>
  <p style="color:var(--muted);margin:0 0 12px 0">Click anywhere to enter and enable background music</p>
  <button id="enterBtn">Enter Site</button>
  <div style="font-size:12px;color:var(--muted);margin-top:8px">You can pause or mute music anytime with the controls in the top-right.</div>
</div>

<div class="app" id="app" style="display:none;">

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="brand">
      <div class="logo">K</div>
      <div>
        <h2>Killadelphia</h2>
        <div class="muted">Contraband System</div>
      </div>
    </div>

    <nav id="nav">
      <button class="nav-btn active" data-page="faction">Faction</button>
      <button class="nav-btn" data-page="members">Members</button>
      <button class="nav-btn" data-page="gallery">Gallery</button>
    </nav>

    <div class="meta">
      <div style="margin-bottom:8px">Faction Status: <strong style="color:var(--accent)">Active</strong></div>
      <div class="muted">Founded: <strong>April 3, 2024</strong></div>
      <div class="muted">Threads: <strong id="memberCount">—</strong></div>
    </div>
  </aside>

  <!-- Main content -->
  <main class="main">
    <header class="top">
      <h3>Faction Showcase</h3>

      <div class="audio-controls">
        <button id="playPause" class="btn">Play</button>
        <button id="muteBtn" class="btn">Mute</button>
        <input id="vol" type="range" min="0" max="1" step="0.01" value="0.4" title="Volume" style="width:110px" />
      </div>
    </header>

    <!-- Pages -->
    <section id="faction" class="page active">
      <div class="faction">
        <div>
          <div class="card hero" style="padding:0;">
            <div class="overlay">The Iron Ravens</div>
          </div>

          <div class="card">
            <h4>About the faction</h4>
            <p class="muted">We are a tight-knit faction thriving in the contraband underbelly. This page showcases our members, threads, and gallery. Use the Members tab to view current thread members and their roles.</p>
            <hr style="border:none;height:1px;background:rgba(255,255,255,0.02);margin:12px 0" />
            <strong>Primary Activities</strong>
            <ul style="margin:8px 0 0 18px;color:var(--muted)">
              <li>Roleplay operations</li>
              <li>In-character events</li>
              <li>Faction gallery & archives</li>
            </ul>
          </div>
        </div>

        <aside>
          <div class="card">
            <h4>Quick Links</h4>
            <div style="display:flex;flex-direction:column;gap:8px;margin-top:10px">
              <a class="btn" style="text-decoration:none;color:var(--muted)" href="#members" onclick="openPage('members')">View Members</a>
              <a class="btn" style="text-decoration:none;color:var(--muted)" href="#gallery" onclick="openPage('gallery')">Open Gallery</a>
            </div>
          </div>

          <div class="card" style="margin-top:12px;">
            <h4>Faction Info</h4>
            <div class="muted" style="margin-top:6px">Leader</div>
            <div style="font-weight:700">RavenChief</div>
            <div class="muted" style="margin-top:10px">Contact</div>
            <div class="muted">raven@contraband.net</div>
          </div>
        </aside>
      </div>
    </section>

    <section id="members" class="page">
      <div class="card">
        <h4>Thread Members</h4>
        <p class="muted">Members listed are current active contributors to the faction thread.</p>

        <div id="membersGrid" class="members-grid"></div>
      </div>
    </section>

    <section id="gallery" class="page">
      <div class="card">
        <h4>Faction Gallery</h4>
        <p class="muted">Memorable moments, screenshots, and artwork.</p>

        <div class="gallery-grid" id="galleryGrid" style="margin-top:12px;">
          <!-- images generated by JS -->
        </div>
      </div>
    </section>

  </main>
</div>

<script>
/*
  Simple single-file implementation:
  - Members and gallery are generated from in-file arrays (easy to switch to JSON fetch).
  - On first click of splash, the audio plays (satisfy gesture).
  - Navigation toggles pages.
*/

// demo data - replace / extend with your members
const members = [
  {name: "RavenChief", role: "Leader", avatar: "https://i.pravatar.cc/150?img=12"},
  {name: "Ghost-Miner", role: "Scout", avatar: "https://i.pravatar.cc/150?img=32"},
  {name: "IronFist", role: "Enforcer", avatar: "https://i.pravatar.cc/150?img=44"},
  {name: "Shade", role: "Spy", avatar: "https://i.pravatar.cc/150?img=65"},
  {name: "Vex", role: "Tech", avatar: "https://i.pravatar.cc/150?img=2"}
];

// demo gallery (replace with your images)
const gallery = [
  "https://images.unsplash.com/photo-1517861328553-3d3b08b58b2d?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=b1c2b0e1b3f0f8c9",
  "https://images.unsplash.com/photo-1508973378-3c9f8bcb19f8?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=8b6c1f76b2e97c",
  "https://images.unsplash.com/photo-1508178840270-6bfaea9a1e16?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=9f8b9b4d2a5f3b",
  "https://images.unsplash.com/photo-1527430253228-e93688616381?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=7c9d6d87b5e1a2",
  "https://images.unsplash.com/photo-1520671933004-3d7c2f78f1a0?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=a1b2c3d4e5f6"
];

function renderMembers() {
  const grid = document.getElementById('membersGrid');
  grid.innerHTML = '';
  members.forEach(m => {
    const el = document.createElement('div');
    el.className = 'member';
    el.innerHTML = `
      <img src="${m.avatar}" alt="${escapeHtml(m.name)}">
      <div class="meta">
        <div class="name">${escapeHtml(m.name)}</div>
        <div class="role">${escapeHtml(m.role)}</div>
      </div>
    `;
    grid.appendChild(el);
  });
  // update member count in sidebar
  document.getElementById('memberCount').textContent = members.length + " members";
}

function renderGallery(){
  const grid = document.getElementById('galleryGrid');
  grid.innerHTML = '';
  gallery.forEach(src => {
    const img = document.createElement('img');
    img.src = src;
    img.loading = "lazy";
    grid.appendChild(img);
  });
}

/* Navigation */
document.querySelectorAll('.nav-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    openPage(btn.getAttribute('data-page'));
  });
});

function openPage(id){
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  const page = document.getElementById(id);
  if(page) page.classList.add('active');
}

/* Audio controls & splash behavior */
const splash = document.getElementById('splash');
const enterBtn = document.getElementById('enterBtn');
const app = document.getElementById('app');
const audio = document.getElementById('bg-audio');
const playPause = document.getElementById('playPause');
const muteBtn = document.getElementById('muteBtn');
const vol = document.getElementById('vol');

function startSiteAndAudio() {
  // reveal app
  splash.style.display = 'none';
  app.style.display = 'grid';

  // set volume and try to play
  audio.volume = parseFloat(vol.value);
  const p = audio.play();
  if (p !== undefined) {
    p.then(()=>{ playPause.textContent = 'Pause'; })
     .catch(err => {
       // many browsers block autoplay with sound — we already have a click, so should succeed.
       console.warn('Audio play failed:', err);
     });
  } else {
    playPause.textContent = 'Pause';
  }
}

// allow clicking anywhere on splash to enter
splash.addEventListener('click', (e)=>{
  // If they clicked the button or anywhere on splash, start
  startSiteAndAudio();
});

// also allow enterBtn specifically
enterBtn.addEventListener('click', (e)=>{
  e.stopPropagation();
  startSiteAndAudio();
});

// play/pause toggle
playPause.addEventListener('click', ()=>{
  if(audio.paused){
    audio.play().then(()=>{ playPause.textContent = 'Pause'; }).catch(()=>{});
  } else {
    audio.pause();
    playPause.textContent = 'Play';
  }
});

// mute toggle
muteBtn.addEventListener('click', ()=>{
  audio.muted = !audio.muted;
  muteBtn.textContent = audio.muted ? 'Unmute' : 'Mute';
});

// volume slider
vol.addEventListener('input', (e)=>{
  audio.volume = parseFloat(e.target.value);
});

/* util */
function escapeHtml(text){
  if(!text) return '';
  return text.replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; });
}

/* initialize page content */
renderMembers();
renderGallery();

// optional: you may want to add keyboard shortcuts or deep-links
</script>

</body>
</html>
